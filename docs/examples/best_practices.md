# Best Practices for signalJourney Files

Following these best practices will help ensure your signalJourney files are clear, useful, and interoperable.

## 1. Be Specific and Detailed

*   **Parameters:** Don't just list the function; include all relevant parameters that were *actually used*, even if they were defaults. This is crucial for reproducibility.
*   **Software Versions:** Always specify the exact software version (`software.version`). If possible, include the `commitHash` for development versions.
*   **Descriptions:** Write clear, unambiguous descriptions for `pipelineInfo` and each `processingStep`. Explain *why* a step was performed, not just *what* it was.
*   **Input/Output:** Use meaningful `description` fields for `outputTargets` as these are used to link subsequent steps via `inputSources.outputId`.

## 2. Structure for Clarity

*   **Step Granularity:** Break down complex operations into logical `processingSteps`. Avoid combining many unrelated actions into a single step.
*   **`stepId`:** Use consistent and informative `stepId`s (e.g., `filter_hp`, `ica_run`, `epoch_stimulus`).
*   **`dependsOn`:** Accurately reflect the processing order using the `dependsOn` field.

## 3. Leverage Linking

*   **`previousStepOutput`:** When a step uses the direct output of a previous step, use `sourceType: "previousStepOutput"` and correctly reference the source `stepId` and `outputId`.
*   **`pipelineSource`:** If an input file was generated by *another* documented pipeline, use the `pipelineSource` field within `inputSources` to link back to the generating pipeline's name and version.

## 4. Record Quality Metrics

*   Include relevant `qualityMetrics` within processing steps (e.g., number of bad channels interpolated, number of ICA components rejected, baseline period used).
*   Include overall `summaryMetrics` at the top level for key outcomes of the entire pipeline (e.g., final number of good trials, average SNR).

## 5. Use Namespaces Appropriately

*   Use the `extensions` object for domain-specific information (e.g., `eeg.referenceType`) or tool-specific metadata.
*   Follow the guidelines for [proposing new namespaces](../specification/namespaces.md) if needed; avoid creating ad-hoc top-level fields.

## 6. Maintain Versioning

*   Keep `sj_version` and `schema_version` accurate.
*   Use the `pipelineInfo.version` field to track changes to your *pipeline script/implementation*.
*   Consider using the top-level `versionHistory` array to track significant changes made to the *signalJourney file itself* over time.

## 7. Validate Regularly

*   Use the `signaljourney-validate` CLI tool or Python library frequently during development to catch errors early.

By following these practices, you contribute to a more robust and reproducible ecosystem for biosignal processing provenance. 